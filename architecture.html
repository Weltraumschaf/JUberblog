<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia at 2014-05-29
 | Rendered using Apache Maven Fluido Skin 1.3.0
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Date-Revision-yyyymmdd" content="20140529" />
    <meta http-equiv="Content-Language" content="en" />
    <title>JUberblog Project Site - </title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.3.0.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />

      
    <script type="text/javascript" src="./js/apache-maven-fluido-1.3.0.min.js"></script>

    
            </head>
        <body class="topBarDisabled">
          
    
    
            
    
        
    <a href="http://github.com/Weltraumschaf/JUberblog">
      <img style="position: absolute; top: 0; right: 0; border: 0; z-index: 10000;"
        src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png"
        alt="Fork me on GitHub">
    </a>
  
                
                    
    
        <div class="container-fluid">
          <div id="banner">
        <div class="pull-left">
                                <div id="bannerLeft">
                <h2>JUberblog</h2>
                </div>
                      </div>
        <div class="pull-right">  </div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
                
                    
                  <li id="publishDate">Last Published: 2014-05-29</li>
                  <li class="divider">|</li> <li id="projectVersion">Version: 0.2.4-SNAPSHOT</li>
                          <li class="divider">|</li>             <li class="">
                    <a href="http://www.weltraumschaf.de" class="externalLink" title="Weltraumschaf">
        Weltraumschaf</a>
        </li>
      <li class="divider ">/</li>
        <li class=""></li>
                
                
                    
      
                            </ul>
      </div>

                  
      <div class="row-fluid">
        <div id="leftColumn" class="span3">
          <div class="well sidebar-nav">
                
                    
                <ul class="nav nav-list">
                    <li class="nav-header">JUberblog</li>
                                
      <li>
    
                          <a href="index.html" title="Home">
          <i class="none"></i>
        Home</a>
            </li>
                  
      <li>
    
                          <a href="installation.html" title="Installation">
          <i class="none"></i>
        Installation</a>
            </li>
                  
      <li>
    
                          <a href="downloads.html" title="Downloads">
          <i class="none"></i>
        Downloads</a>
            </li>
                  
      <li>
    
                          <a href="usage.html" title="Usage">
          <i class="none"></i>
        Usage</a>
            </li>
                  
      <li class="active">
    
            <a href="#"><i class="none"></i>Architecture</a>
          </li>
                              <li class="nav-header">Reports</li>
                                                                                                                                                                                                                
      <li>
    
                          <a href="project-info.html" title="Project Information">
          <i class="icon-chevron-right"></i>
        Project Information</a>
                  </li>
                                                                                                                                                                                                                                      
      <li>
    
                          <a href="project-reports.html" title="Project Reports">
          <i class="icon-chevron-right"></i>
        Project Reports</a>
                  </li>
            </ul>
                
                    
                
          <hr class="divider" />

           <div id="poweredBy">
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
                  </div>
          </div>
        </div>
        
                        
        <div id="bodyColumn"  class="span6" >
                                  
            <h1>Architecture</h1>
<p>An overview of the whole architecture.</p>
<div class="section">
<h2>Publishing Concept<a name="Publishing_Concept"></a></h2>
<p>The publishing concept is very simple: The publish command crawls a configured directory for <a class="externalLink" href="http://daringfireball.net/projects/markdown/syntax">Markdown</a> files and converts them to static HTML in a web servers document root. So that&#x2019;s all. Nearly.</p>
<p>What about versioning? No database at all? No, no database. In my opinion it make no sense to structure unrelational data like documents into a relational database scheme. Especially if I have to reassemble it from the tables back to a document on each page request. Then adding caching and such. why not saving documents as is: A document. In a file.</p>
<p>I&#x2019;ve chosen the Markdown syntax for the files because it is more readable and easier to maintain than pure HTML. Also I&#x2019;ve added some basic template features (see below). And last but not least, if You really want versioning: Use Git or any other VCS for the directory where you save your Markdown files for the blog. You have full-blown version features with diff and so on.</p>
<p>Ok, version is done by a VCS. What about automatic publishing of new posts? Easy going: Just use a system like cron or atd and at a periodic execution which runs the publisher.</p>
<p><img src="images/concept_publish.png" alt="concept publish" /></p>
<div class="section">
<h3>A Default Setup<a name="A_Default_Setup"></a></h3>
<p>All above sounds very easy and simple. But for some it might be to easy. So I give here an idea of a default setup:</p>

<ul>
  
<li>A central repository where you save your blog data (the whole scaffold direcotry, except the configuration).</li>
  
<li>A server which
  
<ul>
    
<li>has a webserver which serves the <tt>public</tt> direcotry (or other configured) from the scaffold.</li>
    
<li>has a cronjob which pulls the central repository (above) and runs the publihser against it.</li>
  </ul></li>
  
<li>You write your posts on a local clone of the above repo and if you want to puplish it: push to origin.</li>
  
<li>And if you want to scale up: Add more webservers with cornjobs behind a HTTP load balancer</li>
</ul></div></div>
<div class="section">
<h2>Model<a name="Model"></a></h2>
<div class="section">
<h3>Data Files<a name="Data_Files"></a></h3>
<p>The pure blog data is stored in plain text files with <a class="externalLink" href="http://daringfireball.net/projects/markdown/syntax">Markdown syntax</a> with some usefull extensions (see <a class="externalLink" href="https://github.com/sirthias/pegdown#introduction">Pegdown Processor</a> for details) and optional preprocessor blocks for meta data. The format is as follows:</p>

<div class="source">
<pre>&lt;?juberblog
    Navi: Projects
    Description: My personal projects I'm working on
    Keywords: Projects, Jenkins, Darcs
?&gt;
## The Headline

Lorem ipsum dolor sit amet, consetetur sadipscing elitr,
sed diam nonumy eirmod tempor invidunt ut labore et dolore
magna aliquyam erat, sed diam voluptua. At vero eos et
accusam et justo duo dolores et ea rebum. Stet clita kasd
gubergren, no sea takimata sanctus est Lorem ipsum dolor
sit amet.

Lorem ipsum dolor sit amet, consetetur sadipscing elitr,
sed diam nonumy eirmod tempor invidunt ut labore et dolore
magna aliquyam erat, sed diam voluptua. At vero eos et
accusam et justo duo dolores et ea rebum.
</pre></div></div>
<div class="section">
<h3>Meta Data<a name="Meta_Data"></a></h3>
<p>Meta data in data files are stored in a preprocesor block (separated by <tt>&lt;?juberblog</tt> and <tt>?&gt;</tt>). Inside these blocks the preprocessor recognizes simple key value pairs.</p>
<p>Syntax:</p>

<div class="source">
<pre>NL    = [ '\r' ] '\n' ;
ALPHA = 'a' .. 'Z' ;
NUM   = '0' .. '9' ;
ALNUM = ALPHA | NUM ;

metadata       = '&lt;?juberblog', NL, { key_value_pair NL }, '?&gt;' ;
key_value_pair = key, ':', value ;
key            = ALNUM { ALNUM } ;
value          = ANY_WORD, NL ;
</pre></div></div>
<div class="section">
<h3>Rubntime Model Representation<a name="Rubntime_Model_Representation"></a></h3>
<p>TODO</p>
<p><img src="images/model.png" alt="model" /></p></div>
<div class="section">
<h3>Templating<a name="Templating"></a></h3>
<p>TODO</p></div></div>
<div class="section">
<h2>Template And Filter<a name="Template_And_Filter"></a></h2>
<p><img src="images/template_and_filters.png" alt="template and filters" /></p></div>
                  </div>
            </div>
          </div>

    <hr/>

    <footer>
            <div class="container-fluid">
              <div class="row span12">Copyright &copy;                    2014
                        <a href="http://www.weltraumschaf.de">Weltraumschaf</a>.
            All Rights Reserved.      
                    
      </div>

        
        
                </div>
    </footer>
  </body>
</html>
